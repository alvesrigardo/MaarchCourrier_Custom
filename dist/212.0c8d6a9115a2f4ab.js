"use strict";(self.webpackChunkmaarchCourrier=self.webpackChunkmaarchCourrier||[]).push([[212],{7212:(Wt,N,l)=>{l.r(N),l.d(N,{InstallerModule:()=>Xt});var B=l(4544),D=l(2060),k=l(9299),V=l(2138),P=l(9016),w=l(5861),Z=l(5938),f=l(9646),c=l(8505),_=l(262),t=l(4650),m=l(9383),x=l(529);let A=(()=>{class o{constructor(){this.steps=[]}setStep(e){this.steps.push(e)}isStepAlreadyLaunched(e){return this.steps.filter(n=>e===n.idStep).length>0}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var C=l(7831),q=l(9047),h=l(6895),v=l(4859),I=l(3238),J=l(7084),b=l(6338);function K(o,r){1&o&&(t.ynx(0),t._uU(1,"..."),t.BQk())}function H(o,r){1&o&&t._UZ(0,"i",16)}function R(o,r){1&o&&t._UZ(0,"i",17)}function X(o,r){if(1&o&&(t.TgZ(0,"div",18),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.msgErr," ")}}function W(o,r){if(1&o&&(t.TgZ(0,"mat-list-item")(1,"div",11)(2,"span",12),t._uU(3),t.qZA(),t.YNc(4,K,2,0,"ng-container",10),t._uU(5,"\xa0 "),t.YNc(6,H,1,0,"i",13),t.YNc(7,R,1,0,"i",14),t.YNc(8,X,2,1,"div",15),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.ekj("endStep","OK"===e.state||"KO"===e.state)("currentStep","inProgress"===e.state),t.xp6(2),t.Oqu(e.label),t.xp6(1),t.Q6J("ngIf","inProgress"===e.state),t.xp6(2),t.Q6J("ngIf","OK"===e.state),t.xp6(1),t.Q6J("ngIf","KO"===e.state),t.xp6(1),t.Q6J("ngIf",""!==e.msgErr)}}function tt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.goToInstance())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang.goToNewInstance")))}function et(o,r){1&o&&(t.TgZ(0,"button",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang.cancel")))}function ot(o,r){if(1&o&&(t.ynx(0),t._UZ(1,"span",19),t.TgZ(2,"div",20),t.YNc(3,tt,3,3,"button",21),t.YNc(4,et,3,3,"button",22),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.isInstallError()&&e.isInstallComplete()),t.xp6(1),t.Q6J("ngIf",e.isInstallError()||!e.isInstallBegin())}}let nt=(()=>{class o{constructor(e,n,s,i,p,u,g){this.translate=e,this.data=n,this.dialogRef=s,this.http=i,this.installerService=p,this.notify=u,this.authService=g,this.steps=[],this.customId="",this.disableAnimation=!0}ngOnInit(){var e=this;return(0,w.Z)(function*(){e.initSteps()})()}ngAfterViewInit(){setTimeout(()=>this.disableAnimation=!1)}launchInstall(){var e=this;return(0,w.Z)(function*(){let n;for(let s=0;s<e.data.length&&(e.steps[s].state="inProgress",n=yield e.doStep(s),n);s++);})()}initSteps(){this.data.forEach((e,n)=>{0===n?this.customId=e.body.customId:e.body.customId=this.customId,this.steps.push({idStep:e.idStep,label:e.description,state:"",msgErr:""})})}doStep(e){return new Promise((n,s)=>{this.installerService.isStepAlreadyLaunched(this.data[e].idStep)?(this.steps[e].state="OK",n(!0)):this.http[this.data[e].route.method.toLowerCase()](this.data[e].route.url,this.data[e].body).pipe((0,c.b)(i=>{this.steps[e].state="OK",this.installerService.setStep(this.steps[e]),n(!0)}),(0,_.K)(i=>(this.steps[e].state="KO",this.steps[e].msgErr=void 0!==i.error.lang?this.translate.instant("lang."+i.error.lang):i.error.errors,n(!1),(0,f.of)(!1)))).subscribe()})}isInstallBegin(){return this.steps.filter(e=>""===e.state).length!==this.steps.length}isInstallComplete(){return 0===this.steps.filter(e=>""===e.state).length}isInstallError(){return this.steps.filter(e=>"KO"===e.state).length>0}goToInstance(){this.http.request("DELETE","../rest/installer/lock",{body:{customId:this.customId}}).pipe((0,c.b)(e=>{this.authService.noInstall=!1,window.location.href=e.url,this.dialogRef.close("ok")}),(0,_.K)(e=>(this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(Z.WI),t.Y36(Z.so),t.Y36(x.eN),t.Y36(A),t.Y36(C.g),t.Y36(q.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-install-action"]],decls:16,vars:10,consts:[[1,"mat-dialog-content-container"],["mat-dialog-content",""],["hideToggle","","expanded",""],[1,"launch-action"],["color","primary",1,"text-center"],["mat-raised-button","","type","button","color","primary",2,"font-size","25px","padding","20px",3,"click"],[1,"far","fa-hdd"],[3,"expanded"],["installStepAction",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-line","",1,"step"],[1,"stepLabel"],["class","fa fa-check","style","color: green",4,"ngIf"],["class","fa fa-times","style","color: red",4,"ngIf"],["class","alert-message alert-message-danger","role","alert","style","margin-top: 30px;min-width: 100%;",4,"ngIf"],[1,"fa","fa-check",2,"color","green"],[1,"fa","fa-times",2,"color","red"],["role","alert",1,"alert-message","alert-message-danger",2,"margin-top","30px","min-width","100%"],[1,"divider-modal"],["mat-dialog-actions","",1,"actions"],["mat-raised-button","","mat-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","mat-button","","color","primary",3,"click"],["mat-raised-button","","mat-button","",3,"mat-dialog-close"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-accordion")(3,"mat-expansion-panel",2)(4,"div",3)(5,"h2",4),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return t.CHM(s),t.MAs(13).open(),t.KtG(n.launchInstall())}),t._UZ(9,"i",6),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"mat-expansion-panel",7,8),t.YNc(14,W,9,9,"mat-list-item",9),t.qZA()()(),t.YNc(15,ot,5,2,"ng-container",10),t.qZA()}2&e&&(t.xp6(1),t.Q6J("@.disabled",n.disableAnimation),t.xp6(5),t.Oqu(t.lcZ(7,6,"lang.almostThere")),t.xp6(4),t.hij(" ",t.lcZ(11,8,"lang.launchInstall")," "),t.xp6(2),t.Q6J("expanded",!1),t.xp6(2),t.Q6J("ngForOf",n.steps),t.xp6(1),t.Q6J("ngIf",n.isInstallComplete()||n.isInstallError()||!n.isInstallBegin()))},dependencies:[h.sg,h.O5,v.lW,I.X2,J.pp,J.ib,Z.ZT,Z.xY,Z.H8,b.Tg,m.X$],styles:[".step[_ngcontent-%COMP%]{opacity:.5;transition:all .2s}.step[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{transition:all .2s}.currentStep[_ngcontent-%COMP%]{opacity:1;transition:all .2s}.currentStep[_ngcontent-%COMP%]   .stepLabel[_ngcontent-%COMP%]{font-size:150%;transition:all .2s}.endStep[_ngcontent-%COMP%]{opacity:1}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.launch-action[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),o})();var U=l(9300),st=l(1503),rt=l(866),F=l(6069),at=l(4656),Y=l(3267),S=l(7392),y=l(8425),a=l(4006),O=l(2404),d=l(9549),z=l(4385),it=l(4850);function lt(o,r){if(1&o&&(t.TgZ(0,"mat-option",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang."+e+"Full")," ")}}function pt(o,r){if(1&o&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"mat-icon",15),t.TgZ(2,"div",16),t._uU(3),t.TgZ(4,"small",17),t._uU(5),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(3),t.hij("",e.label," "),t.xp6(2),t.Oqu(e.id)}}function ct(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-list")(2,"div",9),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,pt,6,2,"mat-list-item",10),t.qZA(),t._UZ(6,"mat-divider"),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,2,"lang.instancesList")," : "),t.xp6(2),t.Q6J("ngForOf",e.customs)}}function mt(o,r){if(1&o&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"mat-icon",18),t.TgZ(2,"div",16),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Tol(e.icon),t.xp6(2),t.Oqu(t.lcZ(4,3,e.desc))}}const ut=function(o){return{value1:o}};let dt=(()=>{class o{constructor(e,n,s,i,p){this.translate=e,this.http=n,this.notify=s,this._formBuilder=i,this.authService=p,this.langs=[],this.appVersion=O.N.BASE_VERSION,this.steps=[{icon:"fas fa-check-square",desc:"lang.prerequisiteCheck"},{icon:"fa fa-database",desc:"lang.databaseCreation"},{icon:"fa fa-database",desc:"lang.dataSampleCreation"},{icon:"fa fa-hdd",desc:"lang.docserverCreation"},{icon:"fas fa-tools",desc:"lang.stepCustomizationActionDesc"},{icon:"fa fa-user",desc:"lang.adminUserCreation"}],this.customs=[]}ngOnInit(){this.stepFormGroup=this._formBuilder.group({lang:["fr",a.kI.required]}),this.getLang(),this.authService.noInstall||this.getCustoms()}getLang(){this.http.get("../rest/languages").pipe((0,c.b)(e=>{this.langs=Object.keys(e.langs).filter(n=>"nl"!==n)}),(0,_.K)(e=>(this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}changeLang(e){this.translate.use(e)}getCustoms(){this.http.get("../rest/installer/customs").pipe((0,c.b)(e=>{this.customs=e.customs}),(0,_.K)(e=>(this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}initStep(){return!1}getInfoToInstall(){return[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(x.eN),t.Y36(C.g),t.Y36(a.QS),t.Y36(q.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-welcome"]],decls:32,vars:25,consts:[[1,"stepContent"],[1,"stepContentTitle"],[2,"text-align","center"],["svgIcon","maarchLogoFull",1,"maarchLogoFull"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline","floatLabel","never"],["formControlName","lang","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","href","https://community.maarch.org/","target","_blank"],["mat-raised-button","","color","primary","href","http://www.maarch.com","target","_blank"],[2,"font-style","italic","padding-top","30px","text-align","right",3,"innerHTML"],[3,"value"],["mat-list-icon","","color","primary",1,"fas","fa-box-open"],["mat-line",""],[2,"color","#666"],["mat-list-icon","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"mat-icon",3),t.qZA(),t.TgZ(6,"form",4)(7,"mat-form-field",5)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"mat-select",6),t.NdJ("selectionChange",function(i){return n.changeLang(i.value)}),t.YNc(12,lt,3,4,"mat-option",7),t.qZA()()(),t._UZ(13,"mat-divider"),t.YNc(14,ct,7,4,"ng-container",8),t.TgZ(15,"mat-list")(16,"div",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,mt,5,5,"mat-list-item",10),t.qZA(),t._UZ(20,"mat-divider"),t.TgZ(21,"p"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"a",11),t._uU(25," community.maarch.org "),t.qZA(),t._uU(26),t.ALo(27,"translate"),t.TgZ(28,"a",12),t._uU(29," www.maarch.com "),t.qZA(),t._UZ(30,"p",13),t.ALo(31,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij("",t.xi3(3,10,"lang.welcomeApp",t.VKq(23,ut,n.appVersion))," !"),t.xp6(4),t.Q6J("formGroup",n.stepFormGroup),t.xp6(3),t.hij("",t.lcZ(10,13,"lang.chooseAppLanguage")," : "),t.xp6(3),t.Q6J("ngForOf",n.langs),t.xp6(2),t.Q6J("ngIf",n.customs.length>0),t.xp6(3),t.hij("",t.lcZ(18,15,"lang.installDescription")," : "),t.xp6(2),t.Q6J("ngForOf",n.steps),t.xp6(3),t.hij(" ",t.lcZ(23,17,"lang.externalInfoSite")," : "),t.xp6(4),t.hij(" ",t.lcZ(27,19,"lang.or")," "),t.xp6(4),t.Q6J("innerHTML",t.lcZ(31,21,"lang.maarchLicenceInstall"),t.oJD))},dependencies:[h.sg,h.O5,a._Y,a.JJ,a.JL,a.Q7,a.sg,a.u,d.KE,d.hX,z.gD,I.ey,v.zs,I.X2,S.Hw,b.i$,b.Tg,b.Nh,b.gs,it.d,m.X$],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}.stepContent[_ngcontent-%COMP%]   .maarchLogoFull[_ngcontent-%COMP%]{width:300px;height:100px}.stepContent[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--maarch-color-primary)!important}"]}),o})();var gt=l(266),E=l(782);const ht=["packageItem"];function ft(o,r){if(1&o&&(t.TgZ(0,"mat-grid-tile")(1,"mat-list-item"),t._UZ(2,"mat-icon",12),t.TgZ(3,"div",13),t._uU(4),t.ALo(5,"translate"),t._UZ(6,"i",14,15),t.ALo(8,"translate"),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(2),t.Gre("fa iconCheckPackage icon_",e.state,""),t.xp6(2),t.hij(" ",t.lcZ(5,7,"lang.install_"+e.label)," "),t.xp6(2),t.Q6J("id",e.label)("matTooltip",t.lcZ(8,9,"lang.install_"+e.label+"_desc"))("matTooltipClass","ok"!==e.state?"tooltip-red":"")}}function _t(o,r){if(1&o&&(t.TgZ(0,"mat-list",8)(1,"div",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-grid-list",10),t.YNc(5,ft,9,11,"mat-grid-tile",11),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"lang."+e.key)),t.xp6(3),t.Q6J("ngForOf",n.packagesList[e.key])}}let bt=(()=>{class o{constructor(e,n,s,i,p){this.translate=e,this.http=n,this.notify=s,this._formBuilder=i,this.functionsService=p,this.prerequisites={},this.packagesList={general:[{label:"phpVersionValid",required:!0},{label:"writable",required:!0}],tools:[{label:"unoconv",required:!0},{label:"netcatOrNmap",required:!0},{label:"pgsql",required:!0},{label:"curl",required:!0},{label:"zip",required:!0},{label:"wkhtmlToPdf",required:!0},{label:"imagick",required:!0}],phpExtensions:[{label:"fileinfo",required:!0},{label:"pdoPgsql",required:!0},{label:"gd",required:!0},{label:"mbstring",required:!0},{label:"json",required:!0},{label:"gettext",required:!0},{label:"xml",required:!0}],phpConfiguration:[{label:"errorReporting",required:!0},{label:"displayErrors",required:!0}]},this.docMaarchUrl=this.functionsService.getDocBaseUrl()+"/guat/guat_prerequisites/home.html"}ngOnInit(){this.stepFormGroup=this._formBuilder.group({firstCtrl:["",a.kI.required]}),this.getStepData()}getStepData(){this.http.get("../rest/installer/prerequisites").pipe((0,c.b)(e=>{this.prerequisites=e.prerequisites,Object.keys(this.packagesList).forEach(n=>{this.packagesList[n].forEach((s,i)=>{this.packagesList[n][i].state=this.prerequisites[this.packagesList[n][i].label]?"ok":"ko","phpVersionValid"===this.packagesList[n][i].label&&this.translate.setTranslation(this.translate.getDefaultLang(),{lang:{install_phpVersionValid_desc:this.translate.instant("lang.currentVersion")+" : "+this.prerequisites.phpVersion}},!0)})}),this.stepFormGroup.controls.firstCtrl.setValue(this.checkStep()),this.stepFormGroup.controls.firstCtrl.markAsUntouched()}),(0,_.K)(e=>(this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}initStep(){Object.keys(this.packagesList).forEach(n=>{this.packagesList[n].forEach((s,i)=>{"ko"===this.packagesList[n][i].state&&this.packageItem.toArray().filter(p=>p._elementRef.nativeElement.id===this.packagesList[n][i].label)[0].toggle()})})}checkStep(){let e="success";return Object.keys(this.packagesList).forEach(n=>{this.packagesList[n].forEach(s=>{"ko"===s.state&&(e="")})}),e}isValidStep(){return void 0!==this.stepFormGroup&&"success"===this.stepFormGroup.controls.firstCtrl.value}getFormGroup(){return this.stepFormGroup}getInfoToInstall(){return[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(x.eN),t.Y36(C.g),t.Y36(a.QS),t.Y36(F.d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-prerequisite"]],viewQuery:function(e,n){if(1&e&&t.Gf(ht,5),2&e){let s;t.iGM(s=t.CRH())&&(n.packageItem=s)}},decls:16,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-check-square"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],["target","_blank",1,"link",3,"href"],["style","background: white;",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"click"],[2,"background","white"],["mat-subheader",""],["cols","3","rowHeight","50px"],[4,"ngFor","ngForOf"],["mat-list-icon",""],["mat-line","",1,"packageName"],["matTooltipPosition","right",1,"fa","fa-info-circle",3,"id","matTooltip","matTooltipClass"],["packageItem","matTooltip"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.TgZ(8,"a",4),t._uU(9),t.qZA()(),t.YNc(10,_t,6,4,"mat-list",5),t.ALo(11,"keyvalue"),t.TgZ(12,"div",6)(13,"button",7),t.NdJ("click",function(){return n.getStepData()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"lang.prerequisite"),""),t.xp6(3),t.hij(" ",t.lcZ(7,8,"lang.stepPrerequisite_desc")," : "),t.xp6(2),t.s9C("href",n.docMaarchUrl,t.LSH),t.xp6(1),t.Oqu(n.docMaarchUrl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(11,10,n.packagesList)),t.xp6(4),t.Oqu(t.lcZ(15,12,"lang.updateInformations")))},dependencies:[h.sg,gt.gM,v.lW,E.Il,E.DX,I.X2,S.Hw,b.i$,b.Tg,b.Nh,b.gs,h.Nd,m.X$],styles:['.stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}.packageItem[_ngcontent-%COMP%]{flex:1!important}.iconCheckPackage[_ngcontent-%COMP%]{background:white;font-size:15px!important;display:flex;align-items:center;justify-content:center;padding:10px;border-radius:20px;height:35px;width:35px}.icon_ok[_ngcontent-%COMP%]{color:green}.icon_ok[_ngcontent-%COMP%]:before{content:"\\f111"}.icon_warning[_ngcontent-%COMP%]{color:orange}.icon_warning[_ngcontent-%COMP%]:before{content:"\\f111"}.icon_ko[_ngcontent-%COMP%]{color:red}.icon_ko[_ngcontent-%COMP%]:before{content:"\\f111"}.link[_ngcontent-%COMP%]{text-decoration:underline;color:var(--maarch-color-primary)!important}.packageName[_ngcontent-%COMP%]{font-size:120%!important;white-space:normal!important}.packageName[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:help;opacity:.5;color:var(--maarch-color-primary)}  .tooltip-red{background:#b71c1c;font-size:14px}']}),o})();var G=l(284);function Ct(o,r){1&o&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang.stepEmptyDb")," "))}function vt(o,r){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let Zt=(()=>{class o{constructor(e,n,s,i,p,u){this.translate=e,this.http=n,this._formBuilder=s,this.notify=i,this.functionsService=p,this.installerService=u,this.nextStep=new t.vpe,this.hide=!0,this.connectionState=!1,this.dbExist=!1,this.dataFiles=[];const g=[a.kI.pattern(/^[^\;\" \\]+$/),a.kI.required],T=[a.kI.pattern(/^[^ ]+$/),a.kI.required];this.stepFormGroup=this._formBuilder.group({dbHostCtrl:["localhost",a.kI.required],dbLoginCtrl:["",T],dbPortCtrl:["5432",a.kI.required],dbPasswordCtrl:["",T],dbNameCtrl:["",g],dbSampleCtrl:["data_fr",a.kI.required],stateStep:["",a.kI.required]})}ngOnInit(){this.stepFormGroup.controls.dbHostCtrl.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbLoginCtrl.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbPortCtrl.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbPasswordCtrl.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.stepFormGroup.controls.dbNameCtrl.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe(),this.getDataFiles()}getDataFiles(){this.http.get("../rest/installer/sqlDataFiles").pipe((0,c.b)(e=>{this.dataFiles=e.dataFiles}),(0,_.K)(e=>(this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}isValidConnection(){return!1}initStep(){this.installerService.isStepAlreadyLaunched("database")&&this.stepFormGroup.disable()}checkConnection(){this.http.get("../rest/installer/databaseConnection",{observe:"response",params:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value}}).pipe((0,c.b)(n=>{this.dbExist=200===n.status,this.notify.success(this.translate.instant("lang.rightInformations")),this.stepFormGroup.controls.stateStep.setValue("success"),this.nextStep.emit()}),(0,_.K)(n=>(this.dbExist=!1,this.notify.error(this.translate.instant("Given database has tables"===n.error.errors?"lang.dbNotEmpty":"lang.badInformations")),this.stepFormGroup.markAllAsTouched(),this.stepFormGroup.controls.stateStep.setValue(""),(0,f.of)(!1)))).subscribe()}checkStep(){return this.stepFormGroup.valid}isValidStep(){return!!this.installerService.isStepAlreadyLaunched("database")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}isEmptyConnInfo(){return this.stepFormGroup.controls.dbHostCtrl.invalid||this.stepFormGroup.controls.dbPortCtrl.invalid||this.stepFormGroup.controls.dbLoginCtrl.invalid||this.stepFormGroup.controls.dbPasswordCtrl.invalid||this.stepFormGroup.controls.dbNameCtrl.invalid}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("database")||this.stepFormGroup}getInfoToInstall(){return[{idStep:"database",body:{server:this.stepFormGroup.controls.dbHostCtrl.value,port:this.stepFormGroup.controls.dbPortCtrl.value,user:this.stepFormGroup.controls.dbLoginCtrl.value,password:this.stepFormGroup.controls.dbPasswordCtrl.value,name:this.stepFormGroup.controls.dbNameCtrl.value,data:this.stepFormGroup.controls.dbSampleCtrl.value},route:{method:"POST",url:"../rest/installer/database"},description:this.translate.instant("lang.stepDatabaseActionDesc"),installPriority:2}]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(x.eN),t.Y36(a.QS),t.Y36(C.g),t.Y36(F.d),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-database"]],outputs:{nextStep:"nextStep"},decls:47,vars:35,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-database"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","dbHostCtrl","required",""],["matInput","","formControlName","dbPortCtrl","required",""],["matInput","","formControlName","dbLoginCtrl","required",""],["matInput","","formControlName","dbPasswordCtrl","required","",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","dbNameCtrl","maxlength","50","required",""],["class","alert-message alert-message-info","role","alert","style","margin-top: 0px;min-width: 100%;",4,"ngIf"],["appearance","outline","floatLabel","never"],["formControlName","dbSampleCtrl"],[3,"value",4,"ngFor","ngForOf"],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","0px","min-width","100%"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",7),t.qZA(),t.TgZ(19,"mat-form-field",5)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",8),t.qZA(),t.TgZ(24,"mat-form-field",5)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"button",10),t.NdJ("click",function(){return n.hide=!n.hide}),t._UZ(30,"mat-icon"),t.qZA()(),t.TgZ(31,"mat-form-field",5)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t._UZ(35,"input",11),t.qZA(),t.YNc(36,Ct,3,3,"div",12),t.TgZ(37,"mat-form-field",13)(38,"mat-label"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"mat-select",14),t.YNc(42,vt,2,2,"mat-option",15),t.qZA()(),t.TgZ(43,"div",16)(44,"button",17),t.NdJ("click",function(){return n.checkConnection()}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,17,"lang.database"),""),t.xp6(3),t.hij(" ",t.lcZ(7,19,"lang.stepDatabase_desc")," "),t.xp6(2),t.Q6J("formGroup",n.stepFormGroup),t.xp6(3),t.Oqu(t.lcZ(12,21,"lang.host")),t.xp6(5),t.Oqu(t.lcZ(17,23,"lang.port")),t.xp6(5),t.Oqu(t.lcZ(22,25,"lang.user")),t.xp6(5),t.Oqu(t.lcZ(27,27,"lang.password")),t.xp6(2),t.Q6J("type",n.hide?"password":"text"),t.xp6(2),t.Gre("fa ",n.hide?"fa-eye-slash":"fa-eye",""),t.xp6(3),t.Oqu(t.lcZ(34,29,"lang.dbName")),t.xp6(3),t.Q6J("ngIf",n.dbExist),t.xp6(3),t.Oqu(t.lcZ(40,31,"lang.dbSample")),t.xp6(3),t.Q6J("ngForOf",n.dataFiles),t.xp6(2),t.Q6J("disabled",n.isEmptyConnInfo()||n.stepFormGroup.controls.dbHostCtrl.disabled),t.xp6(1),t.hij(" ",t.lcZ(46,33,"lang.checkInformations")," "))},dependencies:[h.sg,h.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.nD,a.sg,a.u,d.KE,d.hX,d.R9,z.gD,I.ey,G.Nt,v.lW,S.Hw,m.X$],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}"]}),o})(),xt=(()=>{class o{constructor(e,n,s,i,p){this.translate=e,this._formBuilder=n,this.notify=s,this.http=i,this.installerService=p,this.nextStep=new t.vpe;const u=[a.kI.pattern(/^[^\'\<\>\|\*\:\?]+$/),a.kI.required];this.stepFormGroup=this._formBuilder.group({docserversPath:["/opt/maarch/docservers/",u],stateStep:["",a.kI.required]}),this.stepFormGroup.controls.docserversPath.valueChanges.pipe((0,c.b)(()=>this.stepFormGroup.controls.stateStep.setValue(""))).subscribe()}ngOnInit(){}isValidStep(){return!!this.installerService.isStepAlreadyLaunched("docserver")||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}initStep(){this.installerService.isStepAlreadyLaunched("docserver")&&this.stepFormGroup.disable()}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("docserver")||this.stepFormGroup}checkAvailability(){this.http.get("../rest/installer/docservers",{params:{path:this.stepFormGroup.controls.docserversPath.value}}).pipe((0,c.b)(n=>{this.notify.success(this.translate.instant("lang.rightInformations")),this.stepFormGroup.controls.stateStep.setValue("success"),this.nextStep.emit()}),(0,_.K)(n=>(this.notify.error(this.translate.instant("lang.pathUnreacheable")),this.stepFormGroup.controls.stateStep.setValue(""),(0,f.of)(!1)))).subscribe()}getInfoToInstall(){return[{idStep:"docserver",body:{path:this.stepFormGroup.controls.docserversPath.value},route:{method:"POST",url:"../rest/installer/docservers"},description:this.translate.instant("lang.stepDocserversActionDesc"),installPriority:3}]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(a.QS),t.Y36(C.g),t.Y36(x.eN),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-docservers"]],outputs:{nextStep:"nextStep"},decls:20,vars:14,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fa","fa-hdd"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline",2,"color","initial"],["matInput","","formControlName","docserversPath"],["matSuffix",""],[2,"text-align","center"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"input",6),t.TgZ(14,"span",7),t._uU(15,"/__CUSTOM_iD__/"),t.qZA()(),t.TgZ(16,"div",8)(17,"button",9),t.NdJ("click",function(){return n.checkAvailability()}),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"lang.docserver"),""),t.xp6(3),t.hij(" ",t.lcZ(7,8,"lang.stepDocserver_desc")," "),t.xp6(2),t.Q6J("formGroup",n.stepFormGroup),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang.docserverPath")),t.xp6(6),t.Q6J("disabled",!n.stepFormGroup.controls.docserversPath.valid),t.xp6(1),t.Oqu(t.lcZ(19,12,"lang.checkInformations")))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,d.KE,d.hX,d.R9,G.Nt,v.lW,m.X$],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}"]}),o})();var Q=l(9290),At=l(8675),It=l(8372),yt=l(1481),Tt=l(3546);function St(o,r){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang.customAlreadyExist")," "))}function Ft(o,r){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang.invalidCustomName")," "))}const Gt=function(){return{value1:'"_", "-"'}};function Lt(o,r){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.xi3(2,1,"lang.onlySpecialCharAllowed",t.DdM(4,Gt))," "))}const kt=function(){return{value1:"2"}};function qt(o,r){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.xi3(2,1,"lang.invalidLengthCustomName",t.DdM(4,kt))," "))}function Ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",20),t.NdJ("click",function(){const i=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.selectBg(i.url))}),t.qZA()}if(2&o){const e=r.$implicit,n=t.oxw();t.Udp("background","url("+e.url+")"),t.ekj("selected",e.url===n.stepFormGroup.controls.bodyLoginBackground.value)("disabled",n.stepFormGroup.controls.bodyLoginBackground.disabled)}}function Ot(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",21),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(2);return t.KtG(s.click())}),t.TgZ(1,"input",22,23),t.NdJ("change",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.uploadTrigger(s,"bg"))}),t.qZA(),t._UZ(3,"i",24),t.qZA()}}let Mt=(()=>{class o{constructor(e,n,s,i,p,u,g,T){this.translate=e,this._formBuilder=n,this.notify=s,this.sanitizer=i,this.scanPipe=p,this.http=u,this.installerService=g,this.functionsService=T,this.readonlyState=!1,this.backgroundList=[];const M=[a.kI.pattern(/^[a-z0-9_\-]*$/),a.kI.required,a.kI.minLength(3)],L=this.functionsService.getDocBaseUrl();this.stepFormGroup=this._formBuilder.group({firstCtrl:["success",a.kI.required],customId:[null,M],appName:[`Maarch Courrier ${O.N.BASE_VERSION}`,a.kI.required],loginMessage:[`<span style="color:#24b0ed"><strong>D\xe9couvrez votre application via</strong></span>&nbsp;<a title="le guide de visite" href="${L}/guu/home.html" target="_blank"><span style="color:#f99830;"><strong>le guide de visite en ligne</strong></span></a>`],homeMessage:[`<p>D&eacute;couvrez <strong>Maarch Courrier ${O.N.BASE_VERSION}</strong> avec <a title="notre guide de visite" href="${L}" target="_blank"><span style="color:#f99830;"><strong>notre guide de visite en ligne</strong></span></a>.</p>`],bodyLoginBackground:["assets/bodylogin.jpg"],uploadedLogo:["../rest/images?image=logo"]}),this.backgroundList=Array.from({length:17}).map((ee,j)=>({filename:`${j+1}.jpg`,url:`assets/${j+1}.jpg`}))}ngOnInit(){this.checkCustomExist(),this.stepFormGroup.controls.customId.valueChanges.pipe((0,At.O)(""),(0,c.b)(()=>{this.stepFormGroup.controls.firstCtrl.setValue("")}),(0,It.b)(500),(0,U.h)(e=>e.length>2),(0,U.h)(()=>null===this.stepFormGroup.controls.customId.errors||void 0===this.stepFormGroup.controls.customId.errors.pattern),(0,c.b)(()=>{this.checkCustomExist()})).subscribe()}initStep(){null===this.stepFormGroup.controls.customId.value&&this.stepFormGroup.controls.customId.setValue(this.appDatabase.getInfoToInstall()[0].body.name),this.installerService.isStepAlreadyLaunched("createCustom")&&this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):this.installerService.isStepAlreadyLaunched("createCustom")?(this.stepFormGroup.controls.customId.disable(),this.stepFormGroup.controls.appName.disable(),this.stepFormGroup.controls.firstCtrl.disable()):this.installerService.isStepAlreadyLaunched("customization")?(this.stepFormGroup.controls.loginMessage.disable(),this.stepFormGroup.controls.homeMessage.disable(),this.stepFormGroup.controls.bodyLoginBackground.disable(),this.stepFormGroup.controls.uploadedLogo.disable(),this.readonlyState=!0,tinymce.remove(),this.initMce(!0)):(this.readonlyState=!1,this.initMce())}checkCustomExist(){this.http.get("../rest/installer/custom",{observe:"response",params:{customId:this.stepFormGroup.controls.customId.value}}).pipe((0,c.b)(e=>{null!==this.stepFormGroup.controls.customId.errors?delete this.stepFormGroup.controls.customId.errors.customExist:this.stepFormGroup.controls.firstCtrl.setValue("success")}),(0,_.K)(e=>(null!==e.error.errors.match(/^Custom already exists/g)?(this.stepFormGroup.controls.customId.setErrors({...this.stepFormGroup.controls.customId.errors,customExist:!0}),this.stepFormGroup.controls.customId.markAsTouched()):null!==e.error.errors.match(/^Unauthorized custom name/g)?(this.stepFormGroup.controls.customId.setErrors({...this.stepFormGroup.controls.customId.errors,invalidCustomName:!0}),this.stepFormGroup.controls.customId.markAsTouched()):this.notify.handleSoftErrors(e),(0,f.of)(!1)))).subscribe()}isValidStep(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||void 0!==this.stepFormGroup&&this.stepFormGroup.valid}getFormGroup(){return!(!this.installerService.isStepAlreadyLaunched("createCustom")||!this.installerService.isStepAlreadyLaunched("customization"))||this.stepFormGroup}initMce(e=!1){tinymce.init({selector:"textarea",base_url:"../node_modules/tinymce/",convert_urls:!1,height:"150",suffix:".min",language:this.translate.instant("lang.langISO").replace("-","_"),language_url:`../node_modules/tinymce-i18n/langs/${this.translate.instant("lang.langISO").replace("-","_")}.js`,menubar:!1,statusbar:!1,readonly:e,plugins:["autolink"],extended_valid_elements:"script[src|async|defer|type|charset]",external_plugins:{maarch_b64image:"../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js"},toolbar_sticky:!0,toolbar_mode:"floating",toolbar:e?"":"undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image |         alignleft aligncenter alignright alignjustify         bullist numlist outdent indent | removeformat"})}getInfoToInstall(){return[{idStep:"createCustom",body:{lang:this.appWelcome.stepFormGroup.controls.lang.value,customId:this.stepFormGroup.controls.customId.value,applicationName:this.stepFormGroup.controls.appName.value},description:this.translate.instant("lang.stepInstanceActionDesc"),route:{method:"POST",url:"../rest/installer/custom"},installPriority:1},{idStep:"customization",body:{loginMessage:tinymce.get("loginMessage").getContent(),homeMessage:tinymce.get("homeMessage").getContent(),bodyLoginBackground:this.stepFormGroup.controls.bodyLoginBackground.value,logo:this.stepFormGroup.controls.uploadedLogo.value},description:this.translate.instant("lang.stepCustomizationActionDesc"),route:{method:"POST",url:"../rest/installer/customization"},installPriority:3}]}uploadTrigger(e,n){if(e.target.files&&e.target.files[0]){const s=this.canUploadFile(e.target.files[0],n);if(!0===s){const i=new FileReader;i.readAsDataURL(e.target.files[0]),i.onload=p=>{if("logo"===n)this.stepFormGroup.controls.uploadedLogo.setValue(p.target.result);else{const u=new Image;u.onload=g=>{g.target.width<1920||g.target.height<1080?this.notify.error(this.translate.instant("lang.badImageResolution",{value1:"1920x1080"})):(this.backgroundList.push({filename:p.target.result,url:p.target.result}),this.stepFormGroup.controls.bodyLoginBackground.setValue(p.target.result))},u.src=p.target.result}}}else this.notify.error(s)}}canUploadFile(e,n){const s="logo"!==n?["image/jpg","image/jpeg"]:["image/svg+xml"];if("logo"===n){if(e.size>5e6)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"5mo"});if(-1===s.indexOf(e.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:s.join(", ")})}else{if(e.size>1e7)return this.translate.instant("lang.maxFileSizeExceeded",{value1:"10mo"});if(-1===s.indexOf(e.type))return this.translate.instant("lang.onlyExtensionsAllowed",{value1:s.join(", ")})}return!0}logoURL(){return this.sanitizer.bypassSecurityTrustUrl(this.stepFormGroup.controls.uploadedLogo.value)}selectBg(e){this.stepFormGroup.controls.bodyLoginBackground.disabled||this.stepFormGroup.controls.bodyLoginBackground.setValue(e)}clickLogoButton(e){this.stepFormGroup.controls.uploadedLogo.disabled||e.click()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(a.QS),t.Y36(C.g),t.Y36(yt.H7),t.Y36(Q.GM),t.Y36(x.eN),t.Y36(A),t.Y36(F.d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customization"]],inputs:{appDatabase:"appDatabase",appWelcome:"appWelcome"},features:[t._Bn([Q.GM])],decls:54,vars:36,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-tools"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"display","contents",3,"formGroup"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","customId"],[4,"ngIf"],["matInput","","formControlName","appName"],["name","loginMessage","id","loginMessage","formControlName","loginMessage",2,"padding-top","10px"],["name","homeMessage","id","homeMessage","formControlName","homeMessage",2,"padding-top","10px"],["matRipple","",2,"width","350px","background-size","100%","cursor","pointer"],[2,"width","100%",3,"src","click"],["type","file","name","files[]","accept","image/svg+xml",2,"display","none",3,"change"],["uploadLogo",""],[1,"backgroundList"],[1,"backgroundItem",2,"background","url(assets/bodylogin.jpg)","background-size","cover",3,"click"],["style","opacity: 0.3;","class","backgroundItem",3,"selected","disabled","background","click",4,"ngFor","ngForOf"],["style","opacity: 0.3;display: flex;align-items: center;justify-content: center;","class","backgroundItem",3,"click",4,"ngIf"],[1,"backgroundItem",2,"opacity","0.3",3,"click"],[1,"backgroundItem",2,"opacity","0.3","display","flex","align-items","center","justify-content","center",3,"click"],["type","file","name","files[]","accept","image/jpeg",2,"display","none",3,"change"],["uploadFile",""],[1,"fa","fa-plus",2,"font-size","30px","color","#666"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"form",4)(9,"div",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",7),t.TgZ(15,"mat-error"),t.YNc(16,St,3,3,"ng-container",8),t.YNc(17,Ft,3,3,"ng-container",8),t.YNc(18,Lt,3,5,"ng-container",8),t.YNc(19,qt,3,5,"ng-container",8),t.qZA()(),t.TgZ(20,"mat-form-field",6)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",9),t.qZA(),t.TgZ(25,"div"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"textarea",10)(29,"br")(30,"br"),t.TgZ(31,"div"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"textarea",11)(35,"br")(36,"br"),t.qZA(),t.TgZ(37,"div",5)(38,"div"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"div")(42,"mat-card",12)(43,"img",13),t.NdJ("click",function(){t.CHM(s);const p=t.MAs(45);return t.KtG(n.clickLogoButton(p))}),t.qZA(),t.TgZ(44,"input",14,15),t.NdJ("change",function(p){return n.uploadTrigger(p,"logo")}),t.qZA()()(),t._UZ(46,"br"),t.TgZ(47,"div"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",16)(51,"mat-card",17),t.NdJ("click",function(){return n.selectBg("assets/bodylogin.jpg")}),t.qZA(),t.YNc(52,Ut,1,6,"mat-card",18),t.YNc(53,Ot,4,0,"mat-card",19),t.qZA()()()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,20,"lang.customization"),""),t.xp6(3),t.hij(" ",t.lcZ(7,22,"lang.stepCustomization_desc")," "),t.xp6(2),t.Q6J("formGroup",n.stepFormGroup),t.xp6(4),t.Oqu(t.lcZ(13,24,"lang.instanceId")),t.xp6(4),t.Q6J("ngIf",null==n.stepFormGroup.controls.customId.errors?null:n.stepFormGroup.controls.customId.errors.customExist),t.xp6(1),t.Q6J("ngIf",null==n.stepFormGroup.controls.customId.errors?null:n.stepFormGroup.controls.customId.errors.invalidCustomName),t.xp6(1),t.Q6J("ngIf",null==n.stepFormGroup.controls.customId.errors?null:n.stepFormGroup.controls.customId.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==n.stepFormGroup.controls.customId.errors?null:n.stepFormGroup.controls.customId.errors.minlength),t.xp6(3),t.Oqu(t.lcZ(23,26,"lang.applicationName")),t.xp6(4),t.hij("",t.lcZ(27,28,"lang.loginMsg")," : "),t.xp6(6),t.hij("",t.lcZ(33,30,"lang.homeMsg")," : "),t.xp6(7),t.hij("",t.lcZ(40,32,"lang.chooseLogo")," : "),t.xp6(4),t.Q6J("src",n.logoURL(),t.LSH),t.xp6(5),t.hij("",t.lcZ(49,34,"lang.chooseLoginBg")," : "),t.xp6(3),t.ekj("disabled",n.stepFormGroup.controls.bodyLoginBackground.disabled)("selected","assets/bodylogin.jpg"===n.stepFormGroup.controls.bodyLoginBackground.value),t.xp6(1),t.Q6J("ngForOf",n.backgroundList),t.xp6(1),t.Q6J("ngIf",!n.stepFormGroup.controls.bodyLoginBackground.disabled))},dependencies:[h.sg,h.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,d.TO,d.KE,d.hX,G.Nt,Tt.a8,I.wG,m.X$],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}.backgroundList[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-gap:10px}.selected[_ngcontent-%COMP%]{transition:all .3s;opacity:1!important;border:solid 10px var(--maarch-color-secondary)!important}.backgroundItem[_ngcontent-%COMP%]{border:solid 0px var(--maarch-color-secondary);opacity:.5;transition:all .3s;cursor:pointer;height:120px;background-size:cover!important}.disabled[_ngcontent-%COMP%]{cursor:default!important}.backgroundItem[_ngcontent-%COMP%]:not(.disabled):hover{transition:all .3s;opacity:1!important}"]}),o})(),Nt=(()=>{class o{constructor(e,n,s,i){this.translate=e,this._formBuilder=n,this.notify=s,this.installerService=i,this.tiggerInstall=new t.vpe,this.hide=!0;const p=[a.kI.pattern(/^[\w.@-]*$/),a.kI.required],u=[a.kI.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/),a.kI.required];this.stepFormGroup=this._formBuilder.group({login:["superadmin",p],firstname:["Admin",a.kI.required],lastname:["SUPER",a.kI.required],password:["",a.kI.required],passwordConfirm:["",a.kI.required],email:["yourEmail@domain.com",u]})}ngOnInit(){this.stepFormGroup.controls.password.valueChanges.pipe((0,c.b)(e=>{e!==this.stepFormGroup.controls.passwordConfirm.value?(this.stepFormGroup.controls.password.setErrors({incorrect:!0}),this.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0}),this.stepFormGroup.controls.passwordConfirm.markAsTouched()):(this.stepFormGroup.controls.password.setErrors(null),this.stepFormGroup.controls.passwordConfirm.setErrors(null))})).subscribe(),this.stepFormGroup.controls.passwordConfirm.valueChanges.pipe((0,c.b)(e=>{e!==this.stepFormGroup.controls.password.value?(this.stepFormGroup.controls.password.setErrors({incorrect:!0}),this.stepFormGroup.controls.password.markAsTouched(),this.stepFormGroup.controls.passwordConfirm.setErrors({incorrect:!0})):(this.stepFormGroup.controls.password.setErrors(null),this.stepFormGroup.controls.passwordConfirm.setErrors(null))})).subscribe()}initStep(){this.installerService.isStepAlreadyLaunched("userAdmin")&&this.stepFormGroup.disable()}isValidStep(){return void 0!==this.stepFormGroup&&(this.stepFormGroup.valid||this.installerService.isStepAlreadyLaunched("userAdmin"))}getFormGroup(){return!!this.installerService.isStepAlreadyLaunched("userAdmin")||this.stepFormGroup}getInfoToInstall(){return[{idStep:"userAdmin",body:{login:this.stepFormGroup.controls.login.value,firstname:this.stepFormGroup.controls.firstname.value,lastname:this.stepFormGroup.controls.lastname.value,password:this.stepFormGroup.controls.password.value,email:this.stepFormGroup.controls.email.value},route:{method:"PUT",url:"../rest/installer/administrator"},description:this.translate.instant("lang.stepUserAdminActionDesc"),installPriority:3}]}launchInstall(){this.tiggerInstall.emit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(a.QS),t.Y36(C.g),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-useradmin"]],outputs:{tiggerInstall:"tiggerInstall"},decls:49,vars:39,consts:[[1,"stepContent"],[1,"stepContentTitle"],[1,"fas","fa-user"],["role","alert",1,"alert-message","alert-message-info",2,"margin-top","30px","min-width","100%"],[2,"width","850px","margin","auto",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","login"],["matInput","","formControlName","firstname"],["matInput","","formControlName","lastname"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","color","primary",3,"click"],["matInput","","formControlName","passwordConfirm",3,"type"],["matInput","","formControlName","email"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._UZ(2,"i",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"input",6),t.qZA(),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",7),t.qZA(),t.TgZ(19,"mat-form-field",5)(20,"mat-label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._UZ(23,"input",8),t.qZA(),t.TgZ(24,"mat-form-field",5)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"button",10),t.NdJ("click",function(){return n.hide=!n.hide}),t._UZ(30,"mat-icon"),t.qZA(),t.TgZ(31,"mat-error"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"mat-form-field",5)(35,"mat-label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"input",11),t.TgZ(39,"button",10),t.NdJ("click",function(){return n.hide=!n.hide}),t._UZ(40,"mat-icon"),t.qZA(),t.TgZ(41,"mat-error"),t._uU(42),t.ALo(43,"translate"),t.qZA()(),t.TgZ(44,"mat-form-field",5)(45,"mat-label"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"input",12),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,19,"lang.userAdmin"),""),t.xp6(3),t.hij(" ",t.lcZ(7,21,"lang.stepUserAdmin_desc")," "),t.xp6(2),t.Q6J("formGroup",n.stepFormGroup),t.xp6(3),t.Oqu(t.lcZ(12,23,"lang.id")),t.xp6(5),t.Oqu(t.lcZ(17,25,"lang.firstname")),t.xp6(5),t.Oqu(t.lcZ(22,27,"lang.lastname")),t.xp6(5),t.Oqu(t.lcZ(27,29,"lang.password")),t.xp6(2),t.Q6J("type",n.hide?"password":"text"),t.xp6(2),t.Gre("fa ",n.hide?"fa-eye-slash":"fa-eye",""),t.xp6(2),t.Oqu(t.lcZ(33,31,"lang.passwordNotMatch")),t.xp6(4),t.Oqu(t.lcZ(37,33,"lang.retypeNewPassword")),t.xp6(2),t.Q6J("type",n.hide?"password":"text"),t.xp6(2),t.Gre("fa ",n.hide?"fa-eye-slash":"fa-eye",""),t.xp6(2),t.Oqu(t.lcZ(43,35,"lang.passwordNotMatch")),t.xp6(4),t.Oqu(t.lcZ(47,37,"lang.email")))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,d.TO,d.KE,d.hX,d.R9,G.Nt,v.lW,S.Hw,m.X$],styles:[".stepContent[_ngcontent-%COMP%]{margin:auto}.stepContent[_ngcontent-%COMP%]   .stepContentTitle[_ngcontent-%COMP%]{color:var(--maarch-color-primary);margin-bottom:30px;border-bottom:solid 1px;padding:0}"]}),o})();const Pt=["stepper"],wt=["stepContent"];function Jt(o,r){1&o&&t._uU(0,"Installation")}function Yt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.gotToLogin())}),t.ALo(1,"translate"),t._UZ(2,"mat-icon",34),t.qZA()}2&o&&t.Q6J("title",t.lcZ(1,1,"lang.home"))}function zt(o,r){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"lang.prerequisite"))}function Et(o,r){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"lang.database"))}function Qt(o,r){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"lang.docserver"))}function jt(o,r){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"lang.customization"))}function Bt(o,r){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"lang.userAdmin"))}function Dt(o,r){1&o&&t._UZ(0,"mat-icon",35)}function Vt(o,r){1&o&&t._UZ(0,"mat-icon",35)}function Kt(o,r){1&o&&t._UZ(0,"mat-icon",36)}function $t(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-horizontal-stepper",6,7),t.NdJ("selectionChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.initStep(s))}),t.TgZ(2,"mat-step",8),t.YNc(3,Jt,1,0,"ng-template",9),t.TgZ(4,"div",10)(5,"div",11),t._UZ(6,"app-welcome",null,12),t.qZA(),t.YNc(9,Yt,3,3,"button",13),t.TgZ(10,"button",14),t.ALo(11,"translate"),t._UZ(12,"mat-icon",15),t.qZA()()(),t.TgZ(13,"mat-step",16),t.YNc(14,zt,2,3,"ng-template",9),t.TgZ(15,"div",10)(16,"div",11),t._UZ(17,"app-prerequisite",null,17),t.qZA(),t.TgZ(20,"button",18),t.ALo(21,"translate"),t._UZ(22,"mat-icon",19),t.qZA(),t.TgZ(23,"button",20),t.ALo(24,"translate"),t._UZ(25,"mat-icon",15),t.qZA()()(),t.TgZ(26,"mat-step",16),t.YNc(27,Et,2,3,"ng-template",9),t.TgZ(28,"div",10)(29,"div",11)(30,"app-database",21,22),t.NdJ("nextStep",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.nextStep())}),t.qZA()(),t.TgZ(33,"button",18),t.ALo(34,"translate"),t._UZ(35,"mat-icon",19),t.qZA(),t.TgZ(36,"button",20),t.ALo(37,"translate"),t._UZ(38,"mat-icon",15),t.qZA()()(),t.TgZ(39,"mat-step",16),t.YNc(40,Qt,2,3,"ng-template",9),t.TgZ(41,"div",10)(42,"div",11)(43,"app-docservers",21,23),t.NdJ("nextStep",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.nextStep())}),t.qZA()(),t.TgZ(46,"button",18),t.ALo(47,"translate"),t._UZ(48,"mat-icon",19),t.qZA(),t.TgZ(49,"button",20),t.ALo(50,"translate"),t._UZ(51,"mat-icon",15),t.qZA()()(),t.TgZ(52,"mat-step",16),t.YNc(53,jt,2,3,"ng-template",9),t.TgZ(54,"div",10)(55,"div",11),t._UZ(56,"app-customization",24,25),t.qZA(),t.TgZ(59,"button",18),t.ALo(60,"translate"),t._UZ(61,"mat-icon",19),t.qZA(),t.TgZ(62,"button",20),t.ALo(63,"translate"),t._UZ(64,"mat-icon",15),t.qZA()()(),t.TgZ(65,"mat-step",16),t.YNc(66,Bt,2,3,"ng-template",9),t.TgZ(67,"div",10)(68,"div",11)(69,"app-useradmin",26,27),t.NdJ("tiggerInstall",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.endInstall())}),t.qZA()(),t.TgZ(72,"button",18),t.ALo(73,"translate"),t._UZ(74,"mat-icon",19),t.qZA(),t.TgZ(75,"button",28),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.endInstall())}),t.ALo(76,"translate"),t._UZ(77,"mat-icon",29),t.qZA()()(),t.YNc(78,Dt,1,0,"ng-template",30),t.YNc(79,Vt,1,0,"ng-template",31),t.YNc(80,Kt,1,0,"ng-template",32),t.qZA()}if(2&o){const e=t.MAs(8),n=t.MAs(18),s=t.MAs(31),i=t.MAs(44),p=t.MAs(57),u=t.MAs(70),g=t.oxw();t.Q6J("@.disabled",!0),t.xp6(9),t.Q6J("ngIf",!g.authService.noInstall),t.xp6(1),t.Q6J("title",t.lcZ(11,25,"lang.next")),t.xp6(3),t.Q6J("stepControl",n.getFormGroup()),t.xp6(7),t.Q6J("title",t.lcZ(21,27,"lang.previous")),t.xp6(3),t.Q6J("title",t.lcZ(24,29,"lang.next"))("disabled",!n.isValidStep()),t.xp6(3),t.Q6J("stepControl",s.getFormGroup()),t.xp6(7),t.Q6J("title",t.lcZ(34,31,"lang.previous")),t.xp6(3),t.Q6J("title",t.lcZ(37,33,"lang.next"))("disabled",!s.isValidStep()),t.xp6(3),t.Q6J("stepControl",i.getFormGroup()),t.xp6(7),t.Q6J("title",t.lcZ(47,35,"lang.previous")),t.xp6(3),t.Q6J("title",t.lcZ(50,37,"lang.next"))("disabled",!i.isValidStep()),t.xp6(3),t.Q6J("stepControl",p.getFormGroup()),t.xp6(4),t.Q6J("appDatabase",s)("appWelcome",e),t.xp6(3),t.Q6J("title",t.lcZ(60,39,"lang.previous")),t.xp6(3),t.Q6J("title",t.lcZ(63,41,"lang.next"))("disabled",!p.isValidStep()),t.xp6(3),t.Q6J("stepControl",u.getFormGroup()),t.xp6(7),t.Q6J("title",t.lcZ(73,43,"lang.previous")),t.xp6(3),t.Q6J("title",t.lcZ(76,45,"lang.beginInstall"))("disabled",!u.isValidStep())}}const Ht=[{path:"",component:(()=>{class o{constructor(e,n,s,i,p,u,g,T,M,L){this.translate=e,this.router=n,this.headerService=s,this.notify=i,this.appService=p,this.sortPipe=u,this.dialog=g,this.functionService=T,this.privilegeService=M,this.authService=L,this.loading=!0}ngOnInit(){this.headerService.hideSideBar=!0,this.authService.isAuth()||this.authService.noInstall?null===this.authService.getToken()||this.privilegeService.hasCurrentUserPrivilege("create_custom")?this.loading=!1:(this.router.navigate(["/login"]),this.notify.error(this.translate.instant("lang.mustPrivilegeToInstall"))):(this.router.navigate(["/login"]),this.notify.error(this.translate.instant("lang.mustConnectToInstall")))}ngAfterViewInit(){$(".mat-horizontal-stepper-header-container").insertBefore(".bg-head-content"),$(".mat-step-icon").css("background-color","white"),$(".mat-step-icon").css("color","#135f7f"),$(".mat-step-label").css("color","white")}isValidStep(){return!1}initStep(e){this.stepContent.toArray()[e.selectedIndex].initStep()}nextStep(){this.stepper.next()}gotToLogin(){this.router.navigate(["/login"])}endInstall(){let e=[];this.stepContent.toArray().forEach(s=>{e=e.concat(s.getInfoToInstall())}),e=this.sortPipe.transform(e,"installPriority"),this.dialog.open(nt,{panelClass:"maarch-modal",disableClose:!0,width:"500px",data:e}).afterClosed().pipe((0,U.h)(s=>!this.functionService.empty(s)),(0,c.b)(s=>{}),(0,_.K)(s=>(this.notify.handleErrors(s),(0,f.of)(!1)))).subscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.sK),t.Y36(k.F0),t.Y36(st.r),t.Y36(C.g),t.Y36(rt.z),t.Y36(P.U),t.Y36(Z.uw),t.Y36(F.d),t.Y36(at.x),t.Y36(q.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Pt,5),t.Gf(wt,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.stepper=s.first),t.iGM(s=t.CRH())&&(n.stepContent=s)}},features:[t._Bn([{provide:V.gx,useValue:{showError:!0}},P.U])],decls:7,vars:5,consts:[["autosize","",1,"maarch-container"],[1,"bg-head"],[1,"bg-head-content"],[1,"container"],[1,"container-content",2,"overflow","hidden"],["linear","","style","height: 100vh;overflow: auto;",3,"selectionChange",4,"ngIf"],["linear","",2,"height","100vh","overflow","auto",3,"selectionChange"],["stepper",""],["label","install"],["matStepLabel",""],[1,"stepContainer"],[1,"stepContent"],["stepContent","","appWelcome",""],["mat-fab","","class","previousStepButton","color","primary",3,"title","click",4,"ngIf"],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title"],[1,"fa","fa-arrow-right"],[3,"stepControl"],["appPrerequisite","","stepContent",""],["mat-fab","","matStepperPrevious","","color","primary",1,"previousStepButton",3,"title"],[1,"fa","fa-arrow-left"],["mat-fab","","matStepperNext","","color","primary",1,"nextStepButton",3,"title","disabled"],[3,"nextStep"],["appDatabase","","stepContent",""],["appDocservers","","stepContent",""],[3,"appDatabase","appWelcome"],["appCustomization","","stepContent",""],[3,"tiggerInstall"],["appUseradmin","","stepContent",""],["mat-fab","","color","accent",1,"nextStepButton",3,"title","disabled","click"],[1,"fas","fa-check-double"],["matStepperIcon","edit"],["matStepperIcon","done"],["matStepperIcon","error"],["mat-fab","","color","primary",1,"previousStepButton",3,"title","click"],[1,"fas","fa-home"],[1,"fa","fa-check","stepIcon"],[1,"fa","fa-times","stepIcon",2,"color","red","font-size","15px !important"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content")(2,"div",1),t._UZ(3,"div",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,$t,81,47,"mat-horizontal-stepper",5),t.qZA()()()()),2&e&&(t.xp6(3),t.ekj("fullContainer",n.appService.getViewMode()),t.xp6(1),t.ekj("fullContainer",n.appService.getViewMode()),t.xp6(2),t.Q6J("ngIf",!n.loading))},dependencies:[h.O5,Y.TM,Y.Rh,v.lW,S.Hw,y.C0,y.VY,y.Vq,y.Ic,y.fd,y.z9,dt,bt,Zt,xt,Mt,Nt,m.X$],styles:[".mat-stepper-horizontal{height:100%!important}.container[_ngcontent-%COMP%]{padding-left:80px!important;padding-right:80px!important}.previousStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;left:10px;transform:translateY(-50%)}.previousStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto}.nextStepButton[_ngcontent-%COMP%]{position:fixed;top:50%;right:13px;transform:translateY(-50%)}.nextStepButton[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:auto;width:auto}  .mat-step-icon{background-color:#fff;color:#135f7f}  .mat-step-label-active{opacity:1!important}  .mat-step-label{color:#fff;opacity:.5}.stepIcon[_ngcontent-%COMP%]{font-size:10px!important;height:auto!important;width:auto!important}  .mat-step-label{transition:all .2s}  .mat-step-label-selected{font-size:160%;transition:all .2s;opacity:1}"]}),o})()}];let Rt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[k.Bz.forChild(Ht),k.Bz]}),o})(),Xt=(()=>{class o{constructor(e){e.setDefaultLang("fr")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.sK))},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[A],imports:[B.m,D.cw,Rt]}),o})()}}]);